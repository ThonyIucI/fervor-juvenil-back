# Linear Metadata Directory

This directory stores metadata for Linear tickets and TDD workflow tracking.

## Structure

```
.linear/
├── README.md              # This file
├── pending-ticket.md      # Generated ticket content (to copy to Linear)
└── FER-X.json            # Metadata for ticket FER-X
```

## Files Generated

### pending-ticket.md

Temporary file generated by `/create-linear-ticket`:

```markdown
# [Ticket Title]

## Description
[Full description]

## Acceptance Criteria
- [ ] Criterion 1
- [ ] Criterion 2

## Labels
`backend` `feature` `database`
```

**Usage:**
1. Copy content to Linear
2. Create ticket
3. Tell Claude the ticket ID
4. File is used to create FER-X.json

---

### FER-X.json

Metadata file for each ticket:

```json
{
  "ticketId": "FER-15",
  "title": "Implement product CRUD",
  "userStory": "Feature: Product CRUD...",
  "acceptanceCriteria": [
    "Create product endpoint",
    "Validate product data",
    "..."
  ],
  "branch": "feature/FER-15-product-crud",
  "status": "ready_for_review",
  "startedAt": "2025-10-25T10:00:00Z",
  "completedAt": "2025-10-25T11:30:00Z",
  "commits": [
    {
      "hash": "a1b2c3d",
      "message": "feat(product): implement product CRUD...",
      "timestamp": "2025-10-25T11:30:00Z"
    }
  ],
  "tests": {
    "unit": 8,
    "integration": 4,
    "e2e": 3,
    "total": 15,
    "coverage": "87%"
  }
}
```

**Purpose:**
- Track ticket progress
- Link commits to tickets
- Store test metrics
- Future: Sync with Linear MCP

---

## Workflow

### 1. Create Ticket

```bash
/create-linear-ticket
```

Creates: `pending-ticket.md`

### 2. Copy to Linear

Manually copy content to Linear and get ticket ID

### 3. Continue TDD Flow

```bash
/setup-tdd-branch FER-15
/implement-tests
/implement-logic
/commit-changes
```

Creates: `FER-15.json` with full tracking

---

## Status Values

| Status | Meaning |
|--------|---------|
| `pending` | Ticket created, not started |
| `in_progress` | Currently working on |
| `ready_for_review` | Code complete, ready for PR |
| `merged` | PR merged to main |

---

## Git Ignore

This directory is NOT ignored by git:
- Metadata helps track project history
- Useful for team collaboration
- Small JSON files don't bloat repo

**Exception:** `pending-ticket.md` is temporary and can be gitignored

---

## Future: Linear MCP Integration

When Linear MCP becomes available:

```typescript
// Automatic ticket creation
const ticket = await linear.createIssue({
  title: 'Implement product CRUD',
  description: '...',
  teamId: 'FER'
})

// Automatic status updates
await linear.updateIssue(ticket.id, {
  status: 'In Progress'
})

// Automatic comments
await linear.addComment(ticket.id, {
  body: `Commit: ${commitHash}`
})
```

---

## Cleaning Up

Old ticket files can be archived:

```bash
# Move completed tickets to archive
mkdir -p .linear/archive/2025-10
mv .linear/FER-*.json .linear/archive/2025-10/
```

---

Last updated: 2025-10-25
